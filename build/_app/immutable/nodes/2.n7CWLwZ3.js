import{p as F,r as U}from"../chunks/AH7It8jC.js";import"../chunks/DsnmJJEf.js";import"../chunks/BUAcL3Av.js";import{aJ as K,ao as V,af as Q,Q as W,aK as X,aL as Z,ap as Y,k as $,T as H,p as ee,aM as T,aN as ae,f as O,t as z,d as v,s as _,g as l,a as q,c as re,e as b,m as x,i as D,u as te,r as f,aO as se}from"../chunks/Co9vZhoo.js";import{s as ie}from"../chunks/DMn3FX1C.js";import{e as I,i as oe}from"../chunks/DsnM5veq.js";import{i as le}from"../chunks/BrEizhU-.js";import{p as ne}from"../chunks/pO9q_iEG.js";import{P as ce}from"../chunks/zP_ywStZ.js";function E(e,s,a=!1){if(e.multiple){if(s==null)return;if(!W(s))return X();for(var o of e.options)o.selected=s.includes(h(o));return}for(o of e.options){var i=h(o);if(Z(i,s)){o.selected=!0;return}}(!a||s!==void 0)&&(e.selectedIndex=-1)}function de(e){var s=new MutationObserver(()=>{E(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{s.disconnect()})}function ue(e,s,a=s){var o=!0;K(e,"change",i=>{var n=i?"[selected]":":checked",r;if(e.multiple)r=[].map.call(e.querySelectorAll(n),h);else{var u=e.querySelector(n)??e.querySelector("option:not([disabled])");r=u&&h(u)}a(r)}),V(()=>{var i=s();if(E(e,i,o),o&&i===void 0){var n=e.querySelector(":checked");n!==null&&(i=h(n),a(i))}e.__value=i,o=!1}),de(e)}function h(e){return"__value"in e?e.__value:e.value}const C=new Set;function fe(e,s,a,o,i=o){var n=a.getAttribute("type")==="checkbox",r=e;let u=!1;if(s!==null)for(var m of s)r=r[m]??=[];r.push(a),K(a,"change",()=>{var t=a.__value;n&&(t=J(r,t,a.checked)),i(t)},()=>i(n?[]:null)),Y(()=>{var t=o();if($&&a.defaultChecked!==a.checked){u=!0;return}n?(t=t||[],a.checked=t.includes(a.__value)):a.checked=Z(a.__value,t)}),Q(()=>{var t=r.indexOf(a);t!==-1&&r.splice(t,1)}),C.has(r)||(C.add(r),H(()=>{r.sort((t,p)=>t.compareDocumentPosition(p)===4?-1:1),C.delete(r)})),H(()=>{if(u){var t;if(n)t=J(r,t,a.checked);else{var p=r.find(y=>y.checked);t=p?.__value}i(t)}})}function J(e,s,a){for(var o=new Set,i=0;i<e.length;i+=1)e[i].checked&&o.add(e[i].__value);return a||o.delete(s),Array.from(o)}const ve=async()=>{const e=[...new Set(F.map(s=>s.category))];return{products:F,categories:e}},qe=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"}));var _e=O('<label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-indigo-600 focus:ring-indigo-500"/> <span> </span></label>'),pe=O('<p class="col-span-full text-center text-gray-500">No products match the selected filters.</p>'),me=O('<div class="flex flex-col md:flex-row gap-8"><aside class="w-full md:w-1/4 lg:w-1/5"><h2 class="text-xl font-bold mb-4">Filters</h2> <div class="mb-6"><h3 class="font-semibold mb-2">Category</h3> <!></div> <div><h3 class="font-semibold mb-2">Sort By</h3> <select class="w-full p-2 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"><option>Name (A-Z)</option><option>Price: Low to High</option><option>Price: High to Low</option></select></div></aside> <main class="w-full md:w-3/4 lg:w-4/5"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div></main></div>');function Ce(e,s){ee(s,!1);const a=x(),o=x(),i=[];let n=ne(s,"data",8),r=x([]),u=x("name-asc");T(()=>(D(n()),l(r)),()=>{b(a,n().products.filter(c=>l(r).length===0||l(r).includes(c.category)))}),T(()=>(l(a),l(u)),()=>{b(o,[...l(a)].sort((c,d)=>{switch(l(u)){case"price-asc":return c.price-d.price;case"price-desc":return d.price-c.price;case"name-asc":return c.name.localeCompare(d.name);default:return 0}}))}),ae(),le();var m=me(),t=v(m),p=_(v(t),2),y=_(v(p),2);I(y,1,()=>(D(n()),te(()=>n().categories)),oe,(c,d)=>{var P=_e(),g=v(P);U(g);var j,B=_(g,2),G=v(B,!0);f(B),f(P),z(()=>{j!==(j=l(d))&&(g.value=(g.__value=l(d))??""),ie(G,l(d))}),fe(i,[],g,()=>(l(d),l(r)),R=>b(r,R)),q(c,P)}),f(p);var A=_(p,2),k=_(v(A),2);z(()=>{l(u),se(()=>{})});var w=v(k);w.value=w.__value="name-asc";var S=_(w);S.value=S.__value="price-asc";var L=_(S);L.value=L.__value="price-desc",f(k),f(A),f(t);var M=_(t,2),N=v(M);I(N,5,()=>l(o),c=>c.id,(c,d)=>{ce(c,{get product(){return l(d)}})},c=>{var d=pe();q(c,d)}),f(N),f(M),f(m),ue(k,()=>l(u),c=>b(u,c)),q(e,m),re()}export{Ce as component,qe as universal};
